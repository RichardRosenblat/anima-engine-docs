# ADR-009: Topologia de Modelo de IA Configurável com Córtex Obrigatório e Arcuate Opcional (PNL)

**Status:** Aceito
**Data:** 2026-01-05
**Decisores:** @RichardRosenblat
**Contexto:** Restrições de recursos, cognição modular, delegação de PNL, variabilidade de hardware

---

## Contexto

A ANIMA requer raciocínio orientado por IA para operar como um sistema cognitivo de longa duração orientado a tarefas.
No mínimo, isso inclui:

* Planejamento cognitivo e expansão de tarefas
* Raciocínio de contingência
* Tomada de decisão consciente de capacidades
* Adesão a seeds de identidade e restrições comportamentais

Essas responsabilidades são **fundamentais para a existência da ANIMA** e não podem ser opcionais.

Separadamente, a ANIMA também interage com linguagem natural:

* Analisar entrada do usuário
* Produzir respostas conversacionais
* Gerar frames semânticos
* Suportar módulos orientados por linguagem

Originalmente, o Processamento de Linguagem Natural (PLN) foi concebido como uma **responsabilidade de nível de módulo**, onde módulos individuais poderiam trazer seus próprios modelos de linguagem ou analisadores.

À medida que o sistema evoluiu, várias pressões surgiram:

* Algumas implantações requerem uma **camada de PLN centralizada e consistente**
* Outras implantações devem permanecer mínimas devido a restrições de hardware
* PLN não deve implicar automaticamente acesso a memória ou cognição
* Módulos não devem ser forçados a incorporar dependências pesadas de IA

Isso criou a necessidade de uma **responsabilidade de PLN configurável**, sem comprometer o motor cognitivo central.

---

## Decisão

A ANIMA adota uma **topologia de modelo de IA de dois papéis**:

1. **Córtex** — obrigatório, responsável pela cognição
2. **Arcuate** — opcional, responsável pelo processamento de linguagem natural

O Núcleo DEVE sempre fornecer um Córtex.
O Núcleo PODE fornecer um Arcuate.

O Processamento de Linguagem Natural PODE ser:

* Tratado centralmente pelo Núcleo via Arcuate, ou
* Delegado inteiramente a módulos capazes de PLN

O Núcleo expõe ambas as responsabilidades via interfaces estáveis, independentemente de como são implementadas.

---

## Definição

### Córtex (Obrigatório)

O **Córtex** é o wrapper do modelo cognitivo e é um componente obrigatório do Núcleo ANIMA.

O Córtex é responsável por:

* Geração e refinamento de planos
* Expansão de tarefas e modelagem de contingência
* Raciocínio de espinha semântica
* Tomada de decisão consciente de capacidades
* Aplicação de restrições comportamentais definidas pela seed
* Raciocínio sobre fatias de memória controladas

Sem um Córtex, a ANIMA não pode funcionar como um sistema cognitivo.

---

### Arcuate (Opcional)

**Arcuate** é o wrapper do modelo de processamento de linguagem natural.

Arcuate PODE ser fornecido pelo Núcleo para lidar com:

* Análise de linguagem natural
* Extração de frame semântico
* Geração de linguagem natural
* Normalização e realização linguística

Arcuate NÃO DEVE:

* Realizar planejamento autônomo
* Gerar ou mutar tarefas
* Acessar memória episódica ou narrativa
* Anular decisões do Córtex

---

### PLN como Responsabilidade Configurável

O processamento de PLN na ANIMA pode existir em duas formas:

1. **Arcuate de Nível de Núcleo**

   * PLN é centralizado
   * Garante consistência no tratamento de linguagem
   * Reduz duplicação entre módulos
   * Sujeito a isolamento estrito de memória e contexto

2. **PLN de Nível de Módulo**

   * Módulos implementam suas próprias capacidades de PLN
   * Slot Arcuate do Núcleo não é usado
   * Módulos podem usar ferramentas de PLN leves ou especializadas
   * Núcleo permanece agnóstico à linguagem além da cognição

Isso representa uma mudança deliberada de **PLN como preocupação apenas de módulo** para **PLN como responsabilidade configurável do Núcleo**.

---

## Arquitetura Baseada em Interface

O Núcleo define interfaces estáveis, como:

* `ICognitive` → implementado pelo Córtex
* `INLP` → implementado pelo Arcuate ou por módulos

O Núcleo e os módulos dependem apenas de interfaces, nunca de modelos concretos.

Isso garante:

* Agnosticismo de modelo
* Implementações intercambiáveis a quente
* Delegação segura de responsabilidades

---

## Configurações Suportadas

### 1. Modelo Único, Papel Duplo (Córtex + Arcuate)

* Um modelo de IA implementa ambas as interfaces
* Opera em modos explicitamente declarados
* Modo Córtex tem acesso a fatias de memória controladas
* Modo Arcuate opera com memória restrita ou vazia
* Ideal para ambientes com poucos recursos

---

### 2. Núcleo de Modelo Duplo (Córtex Dedicado + Arcuate Dedicado)

* Modelos separados para cognição e PLN
* Permite especialização e paralelismo
* Adequado para implantações com muitos recursos

---

### 3. Núcleo Apenas com Córtex

* Córtex está presente e obrigatório
* Slot Arcuate está vazio
* PLN é tratado inteiramente por módulos
* Núcleo não fornece processamento de linguagem centralizado

---

## Restrições e Invariantes

As seguintes regras são invariantes arquiteturais:

* Córtex DEVE estar sempre presente
* Arcuate é opcional e substituível
* Módulos NÃO DEVEM acessar o Córtex diretamente
* Todo acesso de raciocínio é mediado pelo Núcleo
* Chamadas de PLN NÃO DEVEM acessar memória implicitamente
* Chamadas cognitivas recebem apenas fatias de memória validadas
* Compreensão de linguagem não implica autoridade cognitiva

Essas restrições preservam segurança, clareza de responsabilidade e integridade de identidade.

---

## Consequências

### Positivas

* Garante um núcleo cognitivo estável em todas as implantações
* Permite que PLN escale independentemente da cognição
* Suporta configurações mínimas, modulares e de alto desempenho
* Previne vazamento de memória através do processamento de linguagem
* Mantém módulos leves e opcionais
* Esclarece limites de responsabilidade entre raciocínio e linguagem

---

### Tradeoffs

* Requer roteamento explícito de responsabilidades de linguagem
* Adiciona complexidade de configuração no momento da implantação
* Aumenta a importância da disciplina de interface
* Requer construção cuidadosa de prompt e contexto por papel

Esses tradeoffs são intencionais e alinhados com o design orientado a kernel da ANIMA.

---

## Justificativa

Esta decisão formaliza uma visão crítica:

> **Cognição é essencial. Linguagem é uma capacidade.**

Ao tornar o Córtex obrigatório e o Arcuate opcional:

* A ANIMA permanece fundamentalmente um sistema pensante
* Linguagem se torna uma interface anexável, não um traço definidor
* Restrições de recursos não mais ditam compromisso arquitetural
* Limites de segurança e memória permanecem aplicáveis por design

---

## Trabalho Futuro

* Definir regras estritas de visibilidade de memória para Arcuate
* Formalizar garantias de "PLN Lite" para uso de módulo
* Adicionar perfis de configuração para implantações apenas com Córtex vs Córtex+Arcuate
* Suportar mudança em tempo de execução entre PLN de nível de módulo e de nível de Núcleo
* Documentar melhores práticas para módulos capazes de PLN
