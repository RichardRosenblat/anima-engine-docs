# ADR-009: Topología de Modelo de IA Configurable con Córtex Obligatorio y Arcuate Opcional (PLN)

**Estado:** Aceptado
**Fecha:** 2026-01-05
**Decisores:** @RichardRosenblat
**Contexto:** Restricciones de recursos, cognición modular, delegación de PLN, variabilidad de hardware

---

## Contexto

ANIMA requiere razonamiento impulsado por IA para operar como un sistema cognitivo de larga duración orientado a tareas.
Como mínimo, esto incluye:

* Planificación cognitiva y expansión de tareas
* Razonamiento de contingencia
* Toma de decisiones consciente de capacidades
* Adhesión a seeds de identidad y restricciones de comportamiento

Estas responsabilidades son **fundamentales para la existencia de ANIMA** y no pueden ser opcionales.

Por separado, ANIMA también interactúa con lenguaje natural:

* Analizar entrada del usuario
* Producir respuestas conversacionales
* Generar marcos semánticos
* Soportar módulos orientados al lenguaje

Originalmente, el Procesamiento de Lenguaje Natural (PLN) se concibió como una **responsabilidad de nivel de módulo**, donde los módulos individuales podrían traer sus propios modelos de lenguaje o analizadores.

A medida que el sistema evolucionó, surgieron varias presiones:

* Algunas implementaciones requieren una **capa de PLN centralizada y consistente**
* Otras implementaciones deben permanecer mínimas debido a restricciones de hardware
* PLN no debe implicar automáticamente acceso a memoria o cognición
* Los módulos no deben verse forzados a incorporar dependencias pesadas de IA

Esto creó la necesidad de una **responsabilidad de PLN configurable**, sin comprometer el motor cognitivo central.

---

## Decisión

ANIMA adopta una **topología de modelo de IA de dos roles**:

1. **Córtex** — obligatorio, responsable de la cognición
2. **Arcuate** — opcional, responsable del procesamiento de lenguaje natural

El Núcleo DEBE proporcionar siempre un Córtex.
El Núcleo PUEDE proporcionar un Arcuate.

El Procesamiento de Lenguaje Natural PUEDE ser:

* Manejado centralmente por el Núcleo vía Arcuate, o
* Delegado completamente a módulos capaces de PLN

El Núcleo expone ambas responsabilidades vía interfaces estables, independientemente de cómo se implementen.

---

## Definición

### Córtex (Obligatorio)

El **Córtex** es el envoltorio del modelo cognitivo y es un componente obligatorio del Núcleo ANIMA.

El Córtex es responsable de:

* Generación y refinamiento de planes
* Expansión de tareas y modelado de contingencias
* Razonamiento de columna semántica
* Toma de decisiones consciente de capacidades
* Aplicación de restricciones de comportamiento definidas por la seed
* Razonamiento sobre segmentos de memoria controlados

Sin un Córtex, ANIMA no puede funcionar como un sistema cognitivo.

---

### Arcuate (Opcional)

**Arcuate** es el envoltorio del modelo de procesamiento de lenguaje natural.

Arcuate PUEDE ser proporcionado por el Núcleo para manejar:

* Análisis de lenguaje natural
* Extracción de marco semántico
* Generación de lenguaje natural
* Normalización y realización lingüística

Arcuate NO DEBE:

* Realizar planificación autónoma
* Generar o mutar tareas
* Acceder a memoria episódica o narrativa
* Anular decisiones del Córtex

---

### PLN como Responsabilidad Configurable

El procesamiento de PLN en ANIMA puede existir en dos formas:

1. **Arcuate de Nivel de Núcleo**

   * PLN está centralizado
   * Garantiza consistencia en el manejo del lenguaje
   * Reduce duplicación entre módulos
   * Sujeto a aislamiento estricto de memoria y contexto

2. **PLN de Nivel de Módulo**

   * Los módulos implementan sus propias capacidades de PLN
   * El slot Arcuate del Núcleo no se usa
   * Los módulos pueden usar herramientas de PLN ligeras o especializadas
   * El Núcleo permanece agnóstico al lenguaje más allá de la cognición

Esto representa un cambio deliberado de **PLN como preocupación solo de módulo** a **PLN como responsabilidad configurable del Núcleo**.

---

## Arquitectura Basada en Interfaz

El Núcleo define interfaces estables, como:

* `ICognitive` → implementado por el Córtex
* `INLP` → implementado por Arcuate o por módulos

El Núcleo y los módulos dependen solo de interfaces, nunca de modelos concretos.

Esto garantiza:

* Agnosticismo de modelo
* Implementaciones intercambiables en caliente
* Delegación segura de responsabilidades

---

## Configuraciones Soportadas

### 1. Modelo Único, Rol Doble (Córtex + Arcuate)

* Un modelo de IA implementa ambas interfaces
* Opera en modos explícitamente declarados
* El modo Córtex tiene acceso a segmentos de memoria controlados
* El modo Arcuate opera con memoria restringida o vacía
* Ideal para entornos con pocos recursos

---

### 2. Núcleo de Modelo Doble (Córtex Dedicado + Arcuate Dedicado)

* Modelos separados para cognición y PLN
* Permite especialización y paralelismo
* Adecuado para implementaciones con muchos recursos

---

### 3. Núcleo Solo con Córtex

* El Córtex está presente y es obligatorio
* El slot Arcuate está vacío
* PLN es manejado completamente por módulos
* El Núcleo no proporciona procesamiento de lenguaje centralizado

---

## Restricciones e Invariantes

Las siguientes reglas son invariantes arquitectónicas:

* El Córtex DEBE estar siempre presente
* Arcuate es opcional y reemplazable
* Los módulos NO DEBEN acceder al Córtex directamente
* Todo acceso de razonamiento está mediado por el Núcleo
* Las llamadas de PLN NO DEBEN acceder a memoria implícitamente
* Las llamadas cognitivas reciben solo segmentos de memoria validados
* La comprensión del lenguaje no implica autoridad cognitiva

Estas restricciones preservan seguridad, claridad de responsabilidad e integridad de identidad.

---

## Consecuencias

### Positivas

* Garantiza un núcleo cognitivo estable en todas las implementaciones
* Permite que PLN escale independientemente de la cognición
* Soporta configuraciones mínimas, modulares y de alto rendimiento
* Previene fuga de memoria a través del procesamiento de lenguaje
* Mantiene módulos ligeros y opcionales
* Aclara límites de responsabilidad entre razonamiento y lenguaje

---

### Tradeoffs

* Requiere enrutamiento explícito de responsabilidades de lenguaje
* Añade complejidad de configuración en el momento de implementación
* Aumenta la importancia de la disciplina de interfaz
* Requiere construcción cuidadosa de prompt y contexto por rol

Estos tradeoffs son intencionales y alineados con el diseño orientado a kernel de ANIMA.

---

## Justificación

Esta decisión formaliza una visión crítica:

> **La cognición es esencial. El lenguaje es una capacidad.**

Al hacer el Córtex obligatorio y Arcuate opcional:

* ANIMA permanece fundamentalmente como un sistema pensante
* El lenguaje se convierte en una interfaz adjuntable, no un rasgo definitorio
* Las restricciones de recursos ya no dictan compromiso arquitectónico
* Los límites de seguridad y memoria permanecen aplicables por diseño

---

## Trabajo Futuro

* Definir reglas estrictas de visibilidad de memoria para Arcuate
* Formalizar garantías de "PLN Lite" para uso de módulo
* Añadir perfiles de configuración para implementaciones solo con Córtex vs Córtex+Arcuate
* Soportar cambio en tiempo de ejecución entre PLN de nivel de módulo y de nivel de Núcleo
* Documentar mejores prácticas para módulos capaces de PLN
